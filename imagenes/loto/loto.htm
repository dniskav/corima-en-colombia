<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<script language="javascript" type="text/javascript">
var restantes=0;
var idUno=0;
var idDos=0;


function celda(){
restantes=0;
var baraja=new crea_matrix_img("",16);
total.value=0;
final.style.display="none";
	a1.imagen=tallador(baraja);
	a2.imagen=tallador(baraja);
	a3.imagen=tallador(baraja);
	a4.imagen=tallador(baraja);
	
	b1.imagen=tallador(baraja);
	b2.imagen=tallador(baraja);
	b3.imagen=tallador(baraja);
	b4.imagen=tallador(baraja);

	c1.imagen=tallador(baraja);
	c2.imagen=tallador(baraja);
	c3.imagen=tallador(baraja);
	c4.imagen=tallador(baraja);

	d1.imagen=tallador(baraja);
	d2.imagen=tallador(baraja);
	d3.imagen=tallador(baraja);
	d4.imagen=tallador(baraja);
	
	a1.background="fondocartas.gif";
	a2.background="fondocartas.gif";
	a3.background="fondocartas.gif";
	a4.background="fondocartas.gif";
	
	b1.background="fondocartas.gif";
	b2.background="fondocartas.gif";
	b3.background="fondocartas.gif";
	b4.background="fondocartas.gif";

	c1.background="fondocartas.gif";
	c2.background="fondocartas.gif";
	c3.background="fondocartas.gif";
	c4.background="fondocartas.gif";

	d1.background="fondocartas.gif";
	d2.background="fondocartas.gif";
	d3.background="fondocartas.gif";
	d4.background="fondocartas.gif";

return;
}

function crea_matrix_img(carpeta,total){
	posicion=1;
	for(cartas=1;cartas<=total;cartas+=2){
 		this[cartas]=carpeta+posicion+".jpg";
  		this[cartas+1]=carpeta+posicion+".jpg";
		posicion++;
	}
this.cantidad=cartas-1;
return; 
}

function tallador(brja_intr){
var carta="";
	while(carta==""){
		posicion=(Math.floor(Math.random()*100) % brja_intr.cantidad)+1;
		//campo.coord.posicion=brja_intr[posicion];
		carta=brja_intr[posicion];
		if(carta!=""){
			brja_intr[posicion]=""
			break;
		}
	}
return carta;
}

function VolteaCarta(carta){
	if(carta.background==carta.fondo){
		carta.background=carta.imagen;
	}else{
		return;
	}
		
if(idUno==""){
	idUno=carta;
	}else{
		if(idDos==""){
			idDos=carta;
			setTimeout("revisaCarta(idUno, idDos,8)",300);
		}
	}
	return;
}
	
function revisaCarta(cUno, cDos,cartas){
	if(cUno.imagen==cDos.imagen){
		cUno.background=cUno.imagen;
		cDos.background=cDos.imagen;
		restantes=restantes+1;
		if(restantes==cartas){final.style.display="";fin.value=parseInt(total.value)+1;
			if(recor.value>fin.value){recor.value=fin.value;}
		}
	}else{
		cUno.background=cUno.fondo;
		cDos.background=cDos.fondo;
	}
	total.value=parseInt(total.value)+1;
	idUno=0;
	idDos=0;
return;
}
</script>
<title>Documento sin t&iacute;tulo</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
</head>

<body >
<h2 align="center"> Gimnasia Mental </h2>
<h2 align="center">Descubre los Pares Haciendo Click </h2>
<h2 align="center">Sobre la Carta </h2>
<h2 align="center">Llevas 
  <input name="total" type="text" id="total" value="0" size="3" maxlength="3" readonly> 
intentos</h2>
<table align="center" bgcolor="#FFFF66" id="reco">
 <tr>
   <td>
  <p align="center"><strong>Tu Mejor Puntaje </strong></p>
  <h2 align="center">
<input name="recor" type="text" id="recor" size="3" maxlength="3" border=2 bordercolor="#FFFFFF" readonly>
Intentos  </h2>	  </tr>
</table>
<div align="center"></div>
<table width="308" height="302" border="0" align="center" cellspacing="10" bgcolor="#FFFFCC" id="mesa16">
  <tr>
    <td width="61" height="63"  background="fondocartas.gif" id="a1" onClick="VolteaCarta(this)" imagen="null" fondo="fondocartas.gif">&nbsp;</td>
    <td width="63" background="fondocartas.gif" id="a2" onClick="VolteaCarta(this)" imagen="null" fondo="fondocartas.gif">&nbsp;</td>
    <td width="63" background="fondocartas.gif" id="a3" onClick="VolteaCarta(this)" imagen="null" fondo="fondocartas.gif">&nbsp;</td>
    <td width="60" background="fondocartas.gif" id="a4" onClick="VolteaCarta(this)" imagen="null" fondo="fondocartas.gif">&nbsp;</td>
  </tr>
  <tr>
    <td height="63" background="fondocartas.gif" id="b1" onClick="VolteaCarta(this)" imagen="null" fondo="fondocartas.gif">&nbsp;</td>
    <td id="b2" imagen="null" fondo="fondocartas.gif" background="fondocartas.gif" onClick="VolteaCarta(this)">&nbsp;</td>
    <td id="b3" imagen="null" fondo="fondocartas.gif" background="fondocartas.gif" onClick="VolteaCarta(this)">&nbsp;</td>
    <td id="b4" imagen="null" fondo="fondocartas.gif" background="fondocartas.gif" onClick="VolteaCarta(this)">&nbsp;</td>
  </tr>
  <tr>
    <td height="64" background="fondocartas.gif" id="c1" onClick="VolteaCarta(this)" imagen="null" fondo="fondocartas.gif">&nbsp;</td>
    <td id="c2" imagen="null" fondo="fondocartas.gif" background="fondocartas.gif" onClick="VolteaCarta(this)">&nbsp;</td>
    <td id="c3" imagen="null" fondo="fondocartas.gif" background="fondocartas.gif" onClick="VolteaCarta(this)">&nbsp;</td>
    <td id="c4" imagen="null" fondo="fondocartas.gif" background="fondocartas.gif" onClick="VolteaCarta(this)">&nbsp;</td>
  </tr>
  <tr>
    <td height="62" background="fondocartas.gif" id="d1" onClick="VolteaCarta(this)" imagen="null" fondo="fondocartas.gif">&nbsp;</td>
    <td id="d2" imagen="null" fondo="fondocartas.gif" background="fondocartas.gif" onClick="VolteaCarta(this)">&nbsp;</td>
    <td id="d3" imagen="null" fondo="fondocartas.gif" background="fondocartas.gif" onClick="VolteaCarta(this)">&nbsp;</td>
    <td id="d4" imagen="null" fondo="fondocartas.gif" background="fondocartas.gif" onClick="VolteaCarta(this)">&nbsp;</td>
  </tr>
</table>
<p align="center">
  <input type="button" name="Submit" value="repartir" onClick="celda()">
<table id="final" style="display:none "width="258" border="1" align="center" cellpadding="1" cellspacing="1">
  <tr>
    <td><div align="center"><h2>felicidades lo lograste en </h2>
        <input name="fin" type="text" id="fin" value="0" size="3" maxlength="3"> 
    <h2>intentos</h2> </div></td>
  </tr>
</table>
<p>&nbsp;</p>
<p align="center">&nbsp;</p>

</body>
<script language="javascript" type="text/javascript">
celda();
</script>
</html>
